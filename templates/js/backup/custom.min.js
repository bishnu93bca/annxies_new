function misteryMessage(a, e) {
    $(".overlay_msg").fadeIn(), $(".message-" + e).find(".title").text(e), "wlc" != a && $(".message-" + e).find(".msg").text(a), $(".message-" + e).css("margin-top", $(window).scrollTop()).addClass("active")
}

function misteryMessageConfirm(a, e, t) {
    $(".overlay_msg").fadeIn(), $(".message-" + e).find(".title").text(e), "wlc" != a && $(".message-" + e).find(".msg").text(a), $(".message-" + e).css("margin-top", $(window).scrollTop()).addClass("active"), $(".btn_conf").attr("data-id", t)
}

function misteryMessageAjax(a, e) {
    $("body").addClass("fixedbody"), $(".overlay_msg").addClass("blakish"), $(".overlay_msg").fadeIn(), $(".message-ajax").find(".msg").html(a), $(".message-ajax").css("margin-top", $(window).scrollTop()).addClass("active")
}

function processFileUpload(a) {
    var e = $("#dpfrm")[0],
        t = new FormData(e);
    $(".d_cell").addClass("clicked"), $.ajax({
        url: MODULE_PATH + "/dashboard/action.php",
        type: "POST",
        data: t,
        mimeType: "multipart/form-data",
        processData: !1,
        contentType: !1,
        cache: !1,
        success: function(a) {
            $(".d_cell").removeClass("clicked");
            var e = a.split(">");
            "success" == e[0] ? location.reload() : ($(".message-ajax").removeClass("active"), misteryMessage(e[1], e[0]))
        }
    })
}
jQuery.noConflict()(function(a) {
    a(".give_rating .star").hover(function() {
        var e = a(this).data("rv");
        a(this).prevAll().andSelf().removeClass("grey"), a(this).nextAll().addClass("grey"), a(".rate").val(e)
    }, function() {}), a(".star").click(function() {
        var e = a(this).data("rv");
        a(".rate").val(e)
    }), a(document).on("fileselect", ":file", function(e, t, s) {
        var i = a(this).parents(".file_upload").find(":text"),
            n = t > 1 ? t + " files selected" : s;
        i.length ? i.val(n) : n && alert(n)
    }), a(document).on("change", ":file", function() {
        var e = a(this),
            t = e.get(0).files ? e.get(0).files.length : 1,
            s = e.val().replace(/\\/g, "/").replace(/.*\//, "");
        e.trigger("fileselect", [t, s])
    }), a(".image_box").bind("click", function() {
        var e = 0,
            t = 0,
            s = 0,
            i = 0,
            n = 0,
            r = 0,
            o = 0,
            l = 0;
        e = parseInt(a(this).siblings().height()), a(".image_list > ul > li").css("margin-bottom", 20), t = parseInt(a(this).parent().css("margin-bottom")), a(".image_list > ul > li").css("margin-bottom", t), a(".test_full").hide(), a(".test_full").css("top", 0), a(".test_pointer").hide(), a(".image_box").removeClass("active"), a(this).addClass("active"), s = a(this).parent().position(), i = s.top, n = parseInt(a(this).parent().height()), r = t + e, a(".image_list > ul > li").each(function() {
            o = a(this).position(), l = o.top, l == i && a(this).css("margin-bottom", r + 20)
        }), a(this).siblings().css("top", i + n + t), a(this).siblings().show(), a(this).children().siblings(".test_pointer").show();
        var c = a(this).siblings(),
            d = a(c).offset().top - 140;
        a("html, body").animate({
            scrollTop: d
        }, 400), a(".image_list ul li").find("iframe").each(function() {
            var e = a(this).attr("src");
            a(this).attr("src", e)
        })
    }), a(".message .close_msg").on("click", function() {
        a(this).parent(".message").removeClass("active"), 0 == a(".message").hasClass("errovrly") && setTimeout(function() {
            a(".overlay_msg").fadeOut(), a(".overlay_msg").removeClass("blakish"), a("body").removeClass("fixedbody")
        }, 600), a(".message").removeClass("errovrly")
    }), a("#loginform, #forgotpasswordform, #changepasswordform").unbind("submit").bind("submit", function(e) {
        e.preventDefault();
        var t = a(this).serialize(),
            s = a(this),
            i = s.find(".animate_btn").val(),
            n = s.find(".animate_btn").outerWidth(),
            r = s.find(".animate_btn").outerHeight();
        s.find(".animate_btn").css({
            transition: "0s"
        }), s.find(".animate_btn").attr("disabled", "disabled"), s.find(".animate_btn").val("...").css({
            background: "#009fd1",
            color: "#ffffff",
            "box-shadow": "0 0 0 0"
        }), s.find(".animate_btn").animate({
            width: "54px",
            height: "54px",
            borderRadius: "30px"
        }, {
            duration: 500,
            complete: function() {
                s.find(".animate_btn").addClass("spin").css("transition", ".5s"), a.ajax({
                    url: SITE_LOC_PATH + "/modules/dashboard/action.php",
                    type: "POST",
                    data: t,
                    cache: !1,
                    success: function(a) {
                        var a = JSON.parse(a);
                        s.find(".animate_btn").addClass("complete"), setTimeout(function() {
                            var e = 1 == a.type ? "finalsuccess" : "finalerror";
                            s.find(".animate_btn").addClass(e).trigger("classChange")
                        }, 500), s.find(".animate_btn").unbind("classChange").bind("classChange", function() {
                            var e = 1 == a.type ? "#6DD741" : "#E8261A";
                            setTimeout(function() {
                                s.find(".animate_btn").removeClass("spin complete finalsuccess finalerror").addClass("goback").css({
                                    background: e,
                                    color: "#ffffff",
                                    "border-color": e
                                }).val(a.msg).trigger("classChange2")
                            }, 800)
                        }), s.find(".animate_btn").unbind("classChange2").bind("classChange2", function() {
                            setTimeout(function() {
                                "" != a.redirect && (window.location.href = a.redirect), 1 == a.type ? s[0].reset() : s.find(".animate_btn").removeClass("goback").val(i).css({
                                    width: n,
                                    height: r,
                                    background: "#009fd1",
                                    color: "#ffffff",
                                    "border-color": "#009fd1",
                                    "border-radius": "6px",
                                    "box-shadow": "1px 1px 5px #ccc"
                                }).stop().animate({}, {
                                    complete: function() {
                                        s.find(".animate_btn").removeAttr("disabled")
                                    }
                                })
                            }, 3e3)
                        })
                    }
                })
            }
        })
    }), a("#change_password_form").on("submit", function(e) {
        e.preventDefault();
        var t = a(this);
        t.find('button[type="submit"]').addClass("clicked");
        var s = t.serialize();
        a.ajax({
            url: MODULE_PATH + "/dashboard/action.php",
            type: "POST",
            data: s,
            cache: !1,
            success: function(a) {
                var a = a.split(">");
                t.find('button[type="submit"]').removeClass("clicked"), misteryMessage(a[1], a[0]), "success" == a[0] && t[0].reset()
            }
        })
    }), a("#contact_form").unbind("submit").bind("submit", function(e) {
        e.preventDefault();
        var t = a(this).serialize(),
            s = a(this),
            i = s.find(".animate_btn").val(),
            n = s.find(".animate_btn").outerWidth(),
            r = s.find(".animate_btn").outerHeight();
        s.find(".animate_btn").css({
            transition: "0s"
        }), s.find(".animate_btn").attr("disabled", "disabled"), s.find(".animate_btn").val("").css({
            background: "#009fd1",
            "box-shadow": "0 0 0 0"
        }), s.find(".animate_btn").animate({
            width: "54px",
            height: "54px",
            borderRadius: "30px"
        }, {
            duration: 500,
            complete: function() {
                s.find(".animate_btn").addClass("spin").css("transition", ".5s"), a.ajax({
                    url: MODULE_PATH + "/communication/action.php",
                    type: "POST",
                    data: t,
                    cache: !1,
                    success: function(a) {
                        var a = JSON.parse(a);
                        s.find(".animate_btn").addClass("complete"), setTimeout(function() {
                            var e = 1 == a.type ? "finalsuccess" : "finalerror";
                            s.find(".animate_btn").addClass(e).trigger("classChange")
                        }, 500), s.find(".animate_btn").unbind("classChange").bind("classChange", function() {
                            var e = 1 == a.type ? "#6DD741" : "#E8261A";
                            setTimeout(function() {
                                s.find(".animate_btn").removeClass("spin complete finalsuccess finalerror").addClass("goback").css({
                                    background: e,
                                    "border-color": e
                                }).val(a.msg).trigger("classChange2")
                            }, 800)
                        }), s.find(".animate_btn").unbind("classChange2").bind("classChange2", function() {
                            setTimeout(function() {
                                "" != a.redirect && (window.location.href = a.redirect), 1 == a.type ? s[0].reset() : s.find(".animate_btn").removeClass("goback").val(i).css({
                                    width: n,
                                    height: r,
                                    background: "#009fd1",
                                    "border-color": "#009fd1",
                                    "border-radius": "6px",
                                    "box-shadow": "1px 1px 5px #ccc"
                                }).stop().animate({}, {
                                    complete: function() {
                                        s.find(".animate_btn").removeAttr("disabled")
                                    }
                                })
                            }, 3e3)
                        })
                    }
                })
            }
        })
    }), a(document).on("submit", "#uplddc, #signupform", function(e) {
        e.preventDefault();
        var t = a(this),
            s = t.find("button");
        s.addClass("clicked");
        var i = new FormData(t[0]);
        a.ajax({
            url: MODULE_PATH + "/dashboard/action.php",
            type: "POST",
            data: i,
            mimeType: "multipart/form-data",
            processData: !1,
            contentType: !1,
            cache: !1,
            success: function(e) {
                s.removeClass("clicked");
                var i = e.split(">");
                "success" == i[0] && (t[0].reset(), a(".selClg").html("")), misteryMessage(i[1], i[0])
            }
        })
    }), a(".img_browse").click(function(e) {
        e.preventDefault(), a.ajax({
            url: SITE_LOC_PATH + "/request/",
            type: "POST",
            data: {
                ajx: 1,
                page: "browse"
            },
            success: function(e) {
                misteryMessageAjax(e, ""), a("#dpfid").on("change", function(a) {
                    var e = a.target.files;
                    return processFileUpload(e), !1
                })
            }
        })
    }), a(".message-ajax").on("click", ".autosuggest li", function(e) {
        e.stopPropagation();
        var t = a(this).find(".subheading").text();
        a(this).parents(".autosuggest").find(".suggest").val(t), a(this).parents(".autosuggest").find(".track").val(a(this).data("track")), a(this).parents(".autosuggest").find(".autosearch").html("")
    }), a(".message-ajax").on("blur", ".autosuggest .suggest", function() {
        var e = a(this).siblings(".track").val().trim();
        "" == e && a(this).val("")
    }), a(".edit_setting").click(function(e) {
        e.preventDefault(), a(this).parents("ul").find(".focused").removeClass("focused"), a(this).parents("ul").find(".edit_data").removeClass("edit_data"), a(this).parents("ul").find(".setting_input").hide(), a(this).parents("li").addClass("focused"), a(this).parents(".setting_info").addClass("edit_data");
        var t = a(this).parents(".setting_info").find(".setting_input"),
            s = t.siblings("span").text();
        t.val(s), t.val("").val(s).animate({
            width: "toggle"
        }, 300).focus()
    }), a(".cancel_setting").click(function(e) {
        e.preventDefault(), a(this).parents("li").removeClass("focused"), a(this).parents(".setting_info").removeClass("edit_data"), a(this).parents("li").find(".setting_input").hide()
    }), a(".save_setting").on("click", function(e) {
        e.preventDefault();
        var t = a(this);
        t.addClass("clicked");
        var s = t.data("update"),
            i = t.parents(".setting_info").find(".setting_input").val();
        a.ajax({
            url: MODULE_PATH + "/dashboard/action.php",
            type: "POST",
            data: {
                ajax: 1,
                update: s,
                input: i,
                SourceForm: "PrfUpdt"
            },
            success: function(a) {
                t.removeClass("clicked");
                var e = a.split(">");
                misteryMessage(e[1], e[0]), "success" == e[0] && setTimeout(function() {
                    location.reload()
                }, 1500)
            }
        })
    }), a("#gallery-1").royalSlider({
        fullscreen: {
            enabled: !0,
            nativeFS: !0
        },
        controlNavigation: "thumbnails",
        autoScaleSlider: !0,
        autoScaleSliderWidth: 960,
        autoScaleSliderHeight: 850,
        loop: !1,
        imageScaleMode: "fit-if-smaller",
        navigateByClick: !0,
        numImagesToPreload: 2,
        arrowsNav: !0,
        arrowsNavAutoHide: !0,
        arrowsNavHideOnTouch: !0,
        keyboardNavEnabled: !0,
        fadeinLoadedSlide: !0,
        globalCaption: !0,
        globalCaptionInside: !1,
        thumbs: {
            appendSpan: !0,
            firstMargin: !0,
            paddingBottom: 4
        }
    }), a(document).on("click", ".UpPrf", function() {
        a(this).addClass("clicked");
        var t = (a(this).val(), a("form").serialize());
        a.ajax({
            type: "post",
            url: MODULE_PATH + "/dashboard/action.php",
            data: t,
            success: function(e) {
                a(this).removeClass("clicked");
                var t = JSON.parse(e);
                a(".successmsg").text(t.msg), "" != t.redirect && (window.location.href = t.redirect)
            }
        })
    }), a("#companydata").submit(function(e) {
        var t = new FormData(this);
        a.ajax({
            url: MODULE_PATH + "/dashboard/action.php",
            type: "POST",
            data: t,
            processData: !1,
            contentType: !1,
            success: function(e) {
                console.log(e), a(".ErrInqMsg").html(e)
            }
        }), e.preventDefault()
    })
});